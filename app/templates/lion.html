<!-- LINC is an open source shared database and facial recognition
system that allows for collaboration in wildlife monitoring.
Copyright (C) 2016  Wildlifeguardians

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as
published by the Free Software Foundation, either version 3 of the
License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.

For more information or to contact visit linclion.org or email tech@linclion.org -->
<div name="Lion" class="lion-page font-homenaje-1-1">
  <h1>
    <a class="btn btn-default" ng-click="go_back()">
      <span ng-if="ChangeStatus.loading" class="loading text-center">
        <img src="/static/images/loading.gif" class="loading-gif"/>
      </span>
      <i class="icon icon-arrow-left"></i>
    </a>Lion Info
  </h1>
  <div class="row">
    <div class="col-sm-3 line-right">
      <p><img ng-src="{{!lion.image}}" class="img-responsive"></p>
      <div class="meta-info">
        <h4 class="h4inline">Lion Name:</h4>
        <h4 class="h4data">{{!lion.name}}</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Lion ID:</h4>
        <h4 class="h4data">{{!lion.id}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.dead">
        <h4 class="h4inline">Dead:</h4>
        <div class="div-dead-icon">
          <span class="dead-icon"></span>
        </div>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Primary Image Set ID:</h4>
        <h4 class="h4data">
          <a ng-click="GoTo({type: 'imageset', 'params': {id: lion.primary_image_set_id}})">{{!lion.primary_image_set_id}}</a>
        </h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Organization:</h4>
        <h4 class="h4data">{{!lion.organization}}</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Verified:</h4>
        <h4 ng-hide="!lion.is_verified" class="h4data">Yes</h4>
        <h4 ng-hide="lion.is_verified" class="h4data" bs-tooltip="tooltip_need_verifiy">No</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Date Stamp:</h4>
        <h4 class="h4data">{{!lion.date_stamp | date:'mediumDate'}}</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Date of Birth:</h4>
        <h4 class="h4data">{{!lion.date_of_birth | date:'mediumDate'}}</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Age:</h4>
        <h4 class="h4data" ng-if="lion.age!=null">{{!lion.age}} y/o</h4>
        <h4 class="h4data" ng-if="lion.age==null"></h4>
      </div>
      <div class="meta-info" ng-if="permissions.showGeoPos">
        <h4 class="h4inline">Latitude:</h4>
        <h4 class="h4data">{{!lion.latitude | number:4}}</h4>
      </div>
      <div class="meta-info" ng-if="permissions.showGeoPos">
        <h4 class="h4inline">Longitude:</h4>
        <h4 class="h4data">{{!lion.longitude | number:4}}</h4>
      </div>
      <div class="meta-info" ng-if="permissions.showGeoPos && lion.latitude && lion.longitude && lion.tag_location">
        <h4 class="h4inline">Location Tag:</h4>
        <h4 class="h4data">{{!tag_label(lion.tag_location)}}</h4>
      </div>
      <div class="meta-info">
        <h4 class="h4inline">Gender:</h4>
        <h4 ng-show="lion.gender" class="h4data">{{!lion.gender}}</h4>
        <h4 ng-show="!lion.gender" class="h4data">Unknown</h4>
      </div>
      <div class="meta-info" ng-show="lion.ear_marking">
        <h4 class="h4inline">Ear Marking:</h4>
        <h4 class="h4data">{{!lion.ear_marking}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.mouth_marking">
        <h4 class="h4inline">Mouth Marking:</h4>
        <h4 class="h4data">{{!lion.mouth_marking}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.tail_marking">
        <h4 class="h4inline">Tail Marking /<br> Missing Tuft:</h4>
        <h4 class="h4data">{{!lion.tail_marking}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.nose_color">
        <h4 class="h4inline">Nose Color:</h4>
        <h4 class="h4data">{{!lion.nose_color}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.scars">
        <h4 class="h4inline">Scars:</h4>
        <h4 class="h4data">{{!lion.scars}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.eye_damage">
        <h4 class="h4inline">Eye Damage /<br> Pigmentation:</h4>
        <h4 class="h4data" >{{!lion.eye_damage}}</h4>
      </div>
      <div class="meta-info" ng-show="lion.broken_teet">
        <h4 class="h4inline">Broken Teeth:</h4>
        <h4 class="h4data">{{!lion.broken_teet}}</h4>
      </div>
    </div>
    <div class="col-sm-5">
      <h4 class="h4inline">Notes:</h4>
      <h4 class="h4data h4-notes"><br>{{!lion.notes}}</h4>
      <div class="wrapper container-relatives">
        <h4 class="h4inline">Relatives:</h4>
        <table class="table table-hover1">
          <thead>
            <tr>
              <th class="text-center">
                <a ng-click="order('id_to')" ng-class="{'order_class': orderby.predicate === 'id_to'}">Id</a>
                <span class="sortorder" ng-show="orderby.predicate === 'id_to'" ng-class="{reverse: orderby.reverse}"></span>
              </th>
              <th class="text-center">
                <a href="" ng-click="order('name_to')" ng-class="{'order_class': orderby.predicate === 'name_to'}">Lion</a>
                <span class="sortorder" ng-show="orderby.predicate === 'name_to'" ng-class="{reverse: orderby.reverse}"></span>
              </th>
              <th class="text-center">
                <a href="" ng-click="order('relation')" ng-class="{'order_class': orderby.predicate === 'relation'}">Relation</a>
                <span class="sortorder" ng-show="orderby.predicate === 'relation'" ng-class="{reverse: orderby.reverse}"></span>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr class="link" ui-sref="lion({id: relative.id_to})" ng-repeat="relative in relatives | orderBy : orderby.predicate : orderby.reverse track by $index">
              <td class="text-center">{{!relative.id_to}}</td>
              <td class="text-center">{{!relative.name_to}}</td>
              <td class="text-center">{{!Ralatives_Labels[relative.relation]}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <div class="col-sm-3 line-left padding-top-12" >
      <image-gallery ng-show="lion" use-ctrl="ImageGalleryCtrl" use-template-url="image.gallery.html"
        form-size="lg" options-set="gallery_options" debug="debug" modal-status="modal_status"
        gallery-updated="Reload_Page()" show-privated="permissions.canShow">
      </image-gallery>
      <location-history ng-if="lion && permissions.showGeoPos" use-ctrl="LocationHistoryCtrl"
        use-template-url="location.history.html" form-size="lg" type="lion" options="location_options"
        location-goto="location_goto(imageset_Id)" debug="debug" modal-status="modal_status">
      </location-history>
      <metadata ng-if="lion && permissions.canShow" use-ctrl="MetadataCtrl" use-template-url="metadata.html"
        form-size="lg" type="edit" options-set="metadata_options" update-action="update_lion(data)" debug="debug"
        modal-status="modal_status">
      </metadata>

      <relatives class="relatives" use-ctrl="RelativesCtrl" use-template-url="relatives.tpl.html" form-size="lg"
        lion="lion" lions-relatives="relatives" debug="debug" modal-status="modal_status"
        update-action="update_relatives(data)">
      </relatives>


      <p ng-click="goto_view_imagesets()"><a class="btn btn-lg btn-default btn-block btn-minwidth-180">
        <i class="icon icon-images"></i> LION IMAGE SETS</a>
      </p>
      <p ng-if="lion && permissions.canShow"><a ng-click="Delete()" class="btn btn-lg btn-default btn-block btn-minwidth-180">
        <i class="icon icon-trash"></i> DELETE LION</a>
      </p>
    </div>
  </div>
  <hr>
</div>
